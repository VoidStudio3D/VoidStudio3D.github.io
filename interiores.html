<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Proyectos – Void Studio 3D</title>
<style>
  :root{ --logo-width: 200px; --accent:#ffffff; --bg:#0e0e0e; --gap:20px; --peek:40px; }
  *{box-sizing:border-box;margin:0;padding:0}
  body{background:var(--bg);color:#fff;font-family:system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,Cantarell,Noto Sans,sans-serif;}
  a{color:inherit;text-decoration:none}

  /* ======= Barra superior ======= */
  .topbar{position:sticky;top:0;left:0;right:0;height:64px;background:#000;display:flex;align-items:center;justify-content:space-between;padding-left:var(--logo-width);z-index:1000;border-bottom:1px solid rgba(255,255,255,.08)}
  .logo-wrap{position:fixed;top:10px;left:14px;z-index:1001;background:#000;border-radius:10px;padding:6px 10px;box-shadow:0 4px 14px rgba(0,0,0,.35)}
  .logo{font-weight:800;letter-spacing:.5px;font-size:1.05rem;white-space:nowrap}

  .nav{overflow-x:auto;white-space:nowrap;scrollbar-width:none;-webkit-overflow-scrolling:touch}
  .nav::-webkit-scrollbar{display:none}
  .tab{display:inline-block;color:#ddd;margin:0 10px;padding:8px 10px;border-radius:8px;transition:.2s}
  .tab:hover{transform:scale(1.06);background:rgba(255,255,255,.06);color:#fff}

  .social{position:relative;flex:0 0 auto;padding:0 10px}
  .burger{background:none;border:none;width:28px;height:20px;display:flex;flex-direction:column;justify-content:space-between;cursor:pointer}
  .burger span{display:block;height:3px;background:#fff;border-radius:2px}
  .dropdown{position:absolute;right:10px;top:48px;background:#111;border:1px solid rgba(255,255,255,.08);border-radius:10px;display:none;min-width:180px;overflow:hidden}
  .dropdown a{display:flex;gap:10px;align-items:center;padding:10px 12px;color:#fff}
  .dropdown a:hover{background:#1a1a1a}
  .dropdown img{width:18px;height:18px;filter:grayscale(100%)}

  /* ======= Encabezado de página ======= */
  .header{max-width:1200px;margin:40px auto 16px;padding:0 16px}
  .header h1{font-size:2rem;font-weight:800}
  .header p{margin-top:8px;color:#c8c8c8}

  /* ======= Filtros ======= */
  .filters{max-width:1200px;margin:18px auto 26px;padding:0 16px;display:grid;grid-template-columns:1fr auto;gap:12px}
  .chips{display:flex;flex-wrap:wrap;gap:10px}
  .chip{background:#171717;color:#ddd;border:1px solid rgba(255,255,255,.08);padding:8px 12px;border-radius:999px;cursor:pointer;transition:.15s}
  .chip.active,.chip:hover{background:#fff;color:#000}
  .search{display:flex;align-items:center;gap:8px;background:#171717;border:1px solid rgba(255,255,255,.1);border-radius:12px;padding:8px 12px}
  .search input{all:unset;color:#fff;width:220px}

  /* ======= Grilla de proyectos ======= */
  .grid{max-width:1200px;margin:0 auto;padding:0 16px 80px;display:grid;grid-template-columns:repeat(3,minmax(0,1fr));gap:22px}
  @media(min-width:769px) and (max-width:1024px){.grid{grid-template-columns:repeat(2,minmax(0,1fr))}}
  @media(max-width:768px){.topbar{height:64px;padding-left:120px}.logo{font-size:.95rem}.grid{grid-template-columns:1fr}.search input{width:140px}}

  .card{background:#0f0f0f;border:1px solid rgba(255,255,255,.08);border-radius:14px;overflow:hidden;cursor:pointer;transition:transform .25s, box-shadow .25s}
  .card:hover{transform:translateY(-3px);box-shadow:0 10px 30px rgba(0,0,0,.35)}
  .thumb{position:relative;width:100%;padding-top:100%;overflow:hidden}
  .thumb img{position:absolute;inset:0;width:100%;height:100%;object-fit:cover;transition:opacity .4s, transform .4s}
  .thumb img.alt{opacity:0}
  .card:hover .thumb img.main{transform:scale(1.04)}
  .card:hover .thumb img.alt{opacity:1}
  .meta{padding:14px}
  .meta h3{font-size:1.05rem;margin-bottom:6px}
  .meta p{font-size:.95rem;color:#c8c8c8}
  .tags{display:flex;gap:8px;flex-wrap:wrap;margin-top:10px}
  .tag{font-size:.75rem;background:#1a1a1a;border:1px solid rgba(255,255,255,.1);padding:4px 8px;border-radius:999px;color:#ddd}

  /* ======= Lightbox (instagram-like with peek + dots) ======= */
  .lightbox{position:fixed;inset:0;background:rgba(0,0,0,.92);display:none;align-items:center;justify-content:center;z-index:2000;padding:20px}
  .lightbox.open{display:flex}
  .lightbox-inner{
    position:relative;
    width:min(1100px,92vw);
    height:min(80vh,760px);
    max-height:86vh;
    display:flex;
    flex-direction:column;
    gap:12px;
    align-items:center;
    justify-content:center;
    touch-action:pan-y; /* allow vertical page scroll outside track */
  }

  /* track shows slides with a "peek" of neighbors */
  .lb-viewport{
    width:100%;
    flex:1 1 auto;
    display:flex;
    align-items:center;
    justify-content:center;
    overflow:hidden;
  }
  .lb-track{
    display:flex;
    gap:var(--gap);
    transition:transform .18s ease;
    will-change:transform;
    align-items:center;
    padding:0; margin:0;
  }
  .lb-slide{
    flex:0 0 calc(100% - (var(--peek) * 2)); /* width leaving peek on both sides */
    max-width:calc(100% - (var(--peek) * 2));
    display:flex; align-items:center; justify-content:center;
  }
  .lb-slide img{
    width:100%;
    height:100%;
    object-fit:contain;
    border-radius:10px;
    user-select:none;
    -webkit-user-drag:none;
    pointer-events:none;
  }

  /* controls */
  .lb-close,.lb-prev,.lb-next{
    position:absolute;background:rgba(255,255,255,.06);border:1px solid rgba(255,255,255,.08);backdrop-filter:blur(4px);color:#fff;height:44px;width:44px;border-radius:999px;display:grid;place-items:center;font-size:22px;cursor:pointer;z-index:5;
  }
  .lb-close{top:12px;right:12px}
  .lb-prev{left:12px;top:50%;transform:translateY(-50%)}
  .lb-next{right:12px;top:50%;transform:translateY(-50%)}
  @media(max-width:768px){ .lb-prev{left:8px} .lb-next{right:8px} .lb-close{right:8px;top:8px} }

  /* dots */
  .lb-dots{display:flex;gap:8px;align-items:center;justify-content:center;padding:6px 0}
  .lb-dot{width:8px;height:8px;border-radius:50%;background:rgba(255,255,255,.18);cursor:pointer;border:1px solid rgba(255,255,255,.05)}
  .lb-dot.active{background:#fff;width:28px;height:8px;border-radius:8px;transition:width .18s}

  /* small caption area (optional) */
  .lb-caption{color:#c8c8c8;font-size:.95rem;max-width:920px;text-align:center;padding:4px 10px}
  @media(max-width:520px){ .lb-caption{font-size:.85rem} }

  /* Footer sutil */
  footer{max-width:1200px;margin:20px auto 60px;padding:0 16px;color:#bdbdbd;font-size:.9rem}
</style>
</head>
<body>
  <!-- ===== Logo fijo y Topbar ===== -->
  <div class="logo-wrap"><a class="logo" href="index.html">Void Studio 3D</a></div>
  <header class="topbar">
    <nav class="nav" id="nav">
      <a class="tab" href="interiores.html">Diseño de interiores</a>
      <a class="tab" href="stands.html">Diseño de stands</a>
      <a class="tab" href="comerciales.html">Espacios comerciales</a>
      <a class="tab" href="eventos.html">Eventos y activaciones</a>
      <a class="tab" href="mobiliario.html">Diseño mobiliario</a>
      <a class="tab" href="automotriz.html">Diseño automotriz</a>
      <a class="tab" href="proyectos.html" aria-current="page" style="font-weight:700">Proyectos</a>
    </nav>
    <div class="social">
      <button class="burger" id="burger" aria-label="Abrir redes"><span></span><span></span><span></span></button>
      <div class="dropdown" id="dropdown">
        <a href="https://instagram.com/voidstudio3d" target="_blank"><img src="https://img.icons8.com/ios-glyphs/30/ffffff/instagram-new.png"/>Instagram</a>
        <a href="https://facebook.com" target="_blank"><img src="https://img.icons8.com/ios-glyphs/30/ffffff/facebook-new.png"/>Facebook</a>
        <a href="https://linkedin.com" target="_blank"><img src="https://img.icons8.com/ios-glyphs/30/ffffff/linkedin.png"/>LinkedIn</a>
        <a href="https://workana.com" target="_blank"><img src="https://img.icons8.com/ios-glyphs/30/ffffff/workana.png"/>Workana</a>
      </div>
    </div>
  </header>

  <!-- ===== Encabezado ===== -->
  <section class="header">
    <h1>Diseño de Interiores</h1>
    <p>Explora una selección de trabajos de interiorismo, stands, espacios comerciales y más.</p>
  </section>

  <!-- ===== Filtros ===== -->
  <section class="filters">
    <div class="chips" id="chips">
      <button class="chip active" data-filter="all">Todos</button>
      <button class="chip" data-filter="Oficinas">Oficinas</button>
      <button class="chip" data-filter="Cocinas">Depertamento</button>
      <button class="chip" data-filter="Baños">Casa</button>
      <button class="chip" data-filter="eventos">Eventos</button>
      <button class="chip" data-filter="mobiliario">Mobiliario</button>
      <button class="chip" data-filter="automotriz">Automotriz</button>
    </div>
    <div class="search">
      <svg width="18" height="18" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M21 21l-4.3-4.3" stroke="currentColor" stroke-width="2" stroke-linecap="round"/><circle cx="11" cy="11" r="7" stroke="currentColor" stroke-width="2"/></svg>
      <input id="search" type="text" placeholder="Buscar proyecto…"/>
    </div>
  </section>

  <!-- ===== Grilla ======= -->
  <section class="grid" id="grid">
    <!-- Tarjeta ejemplo: duplicar y ajustar rutas -->
    <article class="card" data-category="interiores" data-tags="living madera cálido" data-images="images/proyectos/diseñodeinteriores/bass6.jpg,images/proyectos/diseñodeinteriores/ch.jpg,images/proyectos/diseñodeinteriores/reint3.png,images/proyectos/diseñodeinteriores/sal.png,images/proyectos/diseñodeinteriores/reint.png,images/proyectos/diseñodeinteriores/reu.png,images/proyectos/diseñodeinteriores/fr.png,images/proyectos/diseñodeinteriores/grad.png,images/proyectos/diseñodeinteriores/coc.png,images/proyectos/diseñodeinteriores/re4.png">
      <div class="thumb">
        <img class="main" src="images/proyectos/diseñodeinteriores/sal.png" alt="Proyecto 1" loading="lazy"/>
        <img class="alt"  src="images/proyectos/diseñodeinteriores/ch.jpg" alt="Proyecto 1 alt" loading="lazy"/>
      </div>
      <div class="meta">
        <h3>Oficina</h3>
        <p>Diseño de interiores residencial.</p>
        <div class="tags"><span class="tag">Interiores</span><span class="tag">Residencial</span></div>
      </div>
    </article>

    <article class="card" data-category="stands" data-tags="feria modular branding" data-images="images/proyectos/diseñodeinteriores/TIGBIBL8.png,images/proyectos/diseñodeinteriores/TIGBIBL6.png,images/proyectos/diseñodeinteriores/TIGBIBL9.png,images/proyectos/diseñodeinteriores/TIGBIBL1.png,images/proyectos/diseñodeinteriores/TIGBIBL7.png,images/proyectos/diseñodeinteriores/TIGBIBL2.png">
      <div class="thumb">
        <img class="main" src="images/proyectos/diseñodeinteriores/TIGBIBL8.png" alt="Proyecto 2" loading="lazy"/>
        <img class="alt"  src="images/proyectos/diseñodeinteriores/TIGBIBL9.png" alt="Proyecto 2 alt" loading="lazy"/>
      </div>
      <div class="meta">
        <h3>Biblioteca</h3>
        <p>Stand para exposición internacional.</p>
        <div class="tags"><span class="tag">Oficinas</span><span class="tag">Oficinas</span></div>
      </div>
    </article>

    <article class="card" data-category="comercial" data-tags="retail vitrina iluminación" data-images="images/proyectos/diseñodeinteriores/TIGSC3.png,images/proyectos/diseñodeinteriores/TIGSC5.png,images/proyectos/diseñodeinteriores/TIGSC1.png,images/proyectos/diseñodeinteriores/TIGSC4.png,images/proyectos/diseñodeinteriores/TIGSC2.png">
      <div class="thumb">
        <img class="main" src="images/proyectos/diseñodeinteriores/TIGSC3.png" alt="Proyecto 3" loading="lazy"/>
        <img class="alt"  src="images/proyectos/diseñodeinteriores/TIGSC5.png" alt="Proyecto 3 alt" loading="lazy"/>
      </div>
      <div class="meta">
        <h3>Sala Docentes</h3>
        <p>Espacio comercial y visual merchandising.</p>
        <div class="tags"><span class="tag">Comercial</span><span class="tag">Retail</span></div>
      </div>
    </article>

    <article class="card" data-category="eventos" data-tags="activación btl experiencia" data-images="images/proyectos/diseñodeinteriores/room2.png,images/proyectos/diseñodeinteriores/room3.png">
      <div class="thumb">
        <img class="main" src="images/proyectos/diseñodeinteriores/room2.png" alt="Proyecto 4" loading="lazy"/>
        <img class="alt"  src="images/proyectos/diseñodeinteriores/room3.png" alt="Proyecto 4 alt" loading="lazy"/>
      </div>
      <div class="meta">
        <h3>Habitacion Minimalista</h3>
        <p>Evento y activación de marca.</p>
        <div class="tags"><span class="tag">Eventos</span><span class="tag">BTL</span></div>
      </div>
    </article>

    <article class="card" data-category="mobiliario" data-tags="madera diseño a medida" data-images="images/proyectos/diseñodeinteriores/TIGTIQ25.png,images/proyectos/diseñodeinteriores/TIGTIQ4.png,images/proyectos/diseñodeinteriores/TIGTIQ10.png,images/proyectos/diseñodeinteriores/TIGTIQ14.png">
      <div class="thumb">
        <img class="main" src="images/proyectos/diseñodeinteriores/TIGTIQ28.png" alt="Proyecto 5" loading="lazy"/>
        <img class="alt"  src="images/proyectos/diseñodeinteriores/TIGTIQ16.png" alt="Proyecto 5 alt" loading="lazy"/>
      </div>
      <div class="meta">
        <h3>Sala Estudios</h3>
        <p>Mobiliario a medida.</p>
        <div class="tags"><span class="tag">Mobiliario</span></div>
      </div>
    </article>

    <article class="card" data-category="automotriz" data-tags="detailing custom" data-images="images/proyectos/proyecto-06-01.jpg,images/proyectos/proyecto-06-02.jpg,images/proyectos/coc2.jpeg,images/proyectos/coc1.jpeg,images/proyectos/coc3.jpg">
      <div class="thumb">
        <img class="main" src="images/proyectos/proyecto-06-01.jpg" alt="Proyecto 6" loading="lazy"/>
        <img class="alt"  src="images/proyectos/proyecto-06-02.jpg" alt="Proyecto 6 alt" loading="lazy"/>
      </div>
      <div class="meta">
        <h3>Cocina</h3>
        <p>Concepto y detalle automotriz.</p>
        <div class="tags"><span class="tag">Automotriz</span></div>
      </div>
    </article>
  </section>

  <!-- ===== Lightbox ===== -->
  <div class="lightbox" id="lightbox" aria-hidden="true">
    <div class="lightbox-inner" id="lightboxInner">
      <button class="lb-close" id="lbClose" aria-label="Cerrar">✕</button>
      <button class="lb-prev" id="lbPrev" aria-label="Anterior">‹</button>
      <div class="lb-viewport" id="lbViewport">
        <div class="lb-track" id="lbTrack"><!-- slides se inyectan aquí --></div>
      </div>
      <button class="lb-next" id="lbNext" aria-label="Siguiente">›</button>

      <div class="lb-dots" id="lbDots" aria-hidden="false"><!-- dots generados aquí --></div>
      <div class="lb-caption" id="lbCaption" aria-hidden="true"></div>
    </div>
  </div>

  <footer>
    © <span id="year"></span> Void Studio 3D — Cochabamba, Bolivia · <a href="mailto:voidstudio3d@gmail.com">voidstudio3d@gmail.com</a>
  </footer>

<script>
// ===== Menú social
const burger = document.getElementById('burger');
const dropdown = document.getElementById('dropdown');
burger.addEventListener('click',()=>{ dropdown.style.display = dropdown.style.display==='block'?'none':'block' })
document.addEventListener('click', (e)=>{ if(!burger.contains(e.target) && !dropdown.contains(e.target)) dropdown.style.display='none' })

// ===== Filtros y búsqueda
const chips = document.getElementById('chips');
const grid = document.getElementById('grid');
const search = document.getElementById('search');
let activeFilter = 'all';

function applyFilters(){
  const term = search.value.trim().toLowerCase();
  [...grid.children].forEach(card=>{
    const cat = card.dataset.category;
    const tags = (card.dataset.tags||'').toLowerCase();
    const text = card.querySelector('.meta h3').textContent.toLowerCase()+ ' ' + card.querySelector('.meta p').textContent.toLowerCase();
    const matchCategory = activeFilter==='all' || cat===activeFilter;
    const matchSearch = !term || tags.includes(term) || text.includes(term);
    card.style.display = (matchCategory && matchSearch)?'block':'none';
  })
}

chips.addEventListener('click', (e)=>{
  const btn = e.target.closest('.chip');
  if(!btn) return;
  chips.querySelectorAll('.chip').forEach(c=>c.classList.remove('active'));
  btn.classList.add('active');
  activeFilter = btn.dataset.filter;
  applyFilters();
})
search.addEventListener('input', applyFilters);

// ===== Hover: alternar imagen (preload)
[...grid.querySelectorAll('.card')].forEach(card=>{
  const alt = card.querySelector('img.alt');
  if(alt){
    const preload = new Image(); preload.src = alt.src;
  }
})

// ===== Lightbox con track (peek) + dots
const lightbox = document.getElementById('lightbox');
const lbInner = document.getElementById('lightboxInner');
const lbTrack = document.getElementById('lbTrack');
const lbViewport = document.getElementById('lbViewport');
const lbDots = document.getElementById('lbDots');
const lbCaption = document.getElementById('lbCaption');
const btnPrev = document.getElementById('lbPrev');
const btnNext = document.getElementById('lbNext');
const btnClose = document.getElementById('lbClose');

let images = [];
let index = 0;
let slideWidth = 0;
let gap = 20;
let isDragging = false;
let startX = 0;
let currentX = 0;
const THRESHOLD = 60; // px

function buildTrack(imgs){
  images = imgs.slice();
  lbTrack.innerHTML = '';
  lbDots.innerHTML = '';
  // crear slides
  images.forEach((src, i)=>{
    const slide = document.createElement('div'); slide.className = 'lb-slide';
    const img = document.createElement('img'); img.src = src; img.alt = `Imagen ${i+1}`;
    slide.appendChild(img);
    lbTrack.appendChild(slide);

    // dot
    const d = document.createElement('button'); d.className = 'lb-dot'; d.dataset.index = i;
    d.addEventListener('click', ()=> goTo(parseInt(d.dataset.index,10)));
    lbDots.appendChild(d);
  });
  updateSizes();
  setTimeout(()=> goTo(0, true), 20); // inicializar
}

function updateSizes(){
  // calcular ancho de slide (incl. gap) en px
  gap = parseInt(getComputedStyle(document.documentElement).getPropertyValue('--gap')) || 20;
  const slideEl = lbTrack.querySelector('.lb-slide');
  if(!slideEl) { slideWidth = 0; return; }
  // fuerza reflow para tener los tamaños correctos
  slideWidth = slideEl.getBoundingClientRect().width + gap;
}

function setTransform(x){
  lbTrack.style.transform = `translateX(${x}px)`;
}

function goTo(i, instant=false){
  if(images.length===0) return;
  index = (i + images.length) % images.length;
  updateSizes();
  const viewportRect = lbViewport.getBoundingClientRect();
  // queremos centrar la slide index en el viewport: transform = -(slideWidth * index)
  const tx = - (slideWidth * index);
  if(instant){
    lbTrack.style.transition = 'none';
    setTransform(tx);
    requestAnimationFrame(()=> lbTrack.style.transition = '');
  } else {
    lbTrack.style.transition = 'transform .18s ease';
    setTransform(tx);
  }
  updateDots();
  updateCaption();
}

function updateDots(){
  [...lbDots.children].forEach((d, i)=> d.classList.toggle('active', i===index));
}

function updateCaption(){
  // si querés usar captions, podés sacar data-caption de la tarjeta; por ahora dejamos vacío
  lbCaption.textContent = '';
  lbCaption.style.display = images[index] ? 'block' : 'none';
}

function openLightboxFromCard(card){
  const imgs = (card.dataset.images || '').split(',').map(s=>s.trim()).filter(Boolean);
  if(!imgs.length) return;
  buildTrack(imgs);
  lightbox.classList.add('open');
  lightbox.setAttribute('aria-hidden','false');
}

// eventos para abrir lightbox
grid.addEventListener('click', (e)=>{
  const card = e.target.closest('.card');
  if(!card) return;
  openLightboxFromCard(card);
});

// control prev/next/close
btnPrev.addEventListener('click', ()=> goTo(index - 1));
btnNext.addEventListener('click', ()=> goTo(index + 1));
btnClose.addEventListener('click', closeLightbox);
lightbox.addEventListener('click', (e)=> { if(e.target === lightbox) closeLightbox(); });
window.addEventListener('keydown', (e)=> {
  if(!lightbox.classList.contains('open')) return;
  if(e.key === 'Escape') closeLightbox();
  if(e.key === 'ArrowLeft') goTo(index - 1);
  if(e.key === 'ArrowRight') goTo(index + 1);
});

function closeLightbox(){
  lightbox.classList.remove('open');
  lightbox.setAttribute('aria-hidden','true');
  lbTrack.innerHTML = '';
  lbDots.innerHTML = '';
  images = [];
  index = 0;
  slideWidth = 0;
}

// ------- swipe/drag on lbTrack (touch + mouse)
function dragStart(clientX){
  if(images.length <= 1) return;
  isDragging = true;
  startX = clientX;
  currentX = clientX;
  lbTrack.style.transition = 'none';
  updateSizes();
}
function dragMove(clientX){
  if(!isDragging) return;
  currentX = clientX;
  const delta = currentX - startX;
  const base = - (slideWidth * index);
  setTransform(base + delta);
}
function dragEnd(){
  if(!isDragging) return;
  isDragging = false;
  const delta = currentX - startX;
  lbTrack.style.transition = 'transform .18s ease';
  if(Math.abs(delta) > THRESHOLD){
    if(delta < 0) goTo(index + 1);
    else goTo(index - 1);
  } else {
    goTo(index); // snap back
  }
}

// touch
lbTrack.addEventListener('touchstart', (e)=>{ if(e.touches && e.touches[0]) dragStart(e.touches[0].clientX); }, {passive:true});
lbTrack.addEventListener('touchmove', (e)=>{ if(e.touches && e.touches[0]) dragMove(e.touches[0].clientX); }, {passive:true});
lbTrack.addEventListener('touchend', (e)=>{ dragEnd(); }, {passive:true});

// mouse
lbTrack.addEventListener('mousedown', (e)=>{
  e.preventDefault();
  dragStart(e.clientX);
  function mm(ev){ dragMove(ev.clientX); }
  function mu(ev){ dragEnd(); document.removeEventListener('mousemove', mm); document.removeEventListener('mouseup', mu); }
  document.addEventListener('mousemove', mm);
  document.addEventListener('mouseup', mu);
});

// resize — recalcular
window.addEventListener('resize', ()=> {
  updateSizes();
  goTo(index, true);
});

// evitar drag image por defecto
lbTrack.addEventListener('dragstart', (e)=> e.preventDefault());

// año dinámico
document.getElementById('year').textContent = new Date().getFullYear();

// Preload alternas (opcional)
[...grid.querySelectorAll('.card')].forEach(card=>{
  const imgs = (card.dataset.images||'').split(',').map(s=>s.trim()).filter(Boolean);
  imgs.forEach(src=>{ const im = new Image(); im.src = src; });
});
</script>
</body>
</html>
